<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body {
            margin: 0;
            background: #7c6bff;
            height: 1200px;
            display: flex;
            justify-content: start;
            align-items: top;
            flex-direction: column;
        }
    </style>
</head>

<body>
    <div class="section-1" style="width: 100%; background-color: orange; height: 400px; z-index: 1;">

    </div>
    <div class="section-2" style="width: 100%; background-color: rgb(230, 0, 255); height: 300px; z-index: 2;">

    </div>
    <!-- GSAP Core -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <!-- GSAP ScrollTrigger -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>

    <script>
        gsap.registerPlugin(ScrollTrigger);
        ScrollTrigger.create({
            trigger: ".section-2",
            pin: true,
            pinSpacing: false, // Important: Prevents ScrollTrigger from adding extra margin/padding for the pin
            // Start immediately at the top
            start: "top 400",
            // End when the total duration of the first section's height (400px) 
            // PLUS the duration of the second section's pin (300px) is reached.
            end: "+=300", // 400px (S1 height) + 300px (S2 pin duration) = 700px total scroll
            markers: true // Helpful for debugging
        });

        ScrollTrigger.create({
            trigger: ".section-1",
            pin: true,
            pinSpacing: false, // Important: Prevents ScrollTrigger from adding extra margin/padding for the pin
            // Start immediately at the top
            start: "top top",
            // End when the total duration of the first section's height (400px) 
            // PLUS the duration of the second section's pin (300px) is reached.
            end: "700", // 400px (S1 height) + 300px (S2 pin duration) = 700px total scroll
            markers: true // Helpful for debugging
        });
    </script>
</body>

</html>